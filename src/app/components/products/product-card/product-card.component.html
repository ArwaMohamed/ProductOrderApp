<mat-card appearance="outlined" [appLowStock]="product.AvailablePieces">
  <mat-card-header>
    <img [src]="product.ProductImg" class="card-img-top" [alt]="product.ProductName">
  </mat-card-header>
  <mat-card-content class="mt-3">
    <mat-card-title>{{ product.ProductName }}</mat-card-title>
    <div *ngIf="isEditing; else displayMode">
      <!-- Input field for editing -->
      <input
        type="number"
        [(ngModel)]="editedPieces"
        class="form-control"
        placeholder="Enter pieces"
      />
      <button (click)="savePieces()" mat-raised-button color="primary">Save</button>
      <button (click)="cancelEdit()" mat-raised-button color="warn">Cancel</button>
    </div>
    <ng-template #displayMode>
      <!-- Normal display with edit button -->
      <p class="product-pieces">
        <span class="text-muted">Pieces Left:</span> {{ product.AvailablePieces }}
        <span *ngIf="product.AvailablePieces <= 10" class="edit" (click)="editAvailablePieces()">
          <mat-icon>edit</mat-icon>
        </span>
      </p>
    </ng-template>
    <div class="d-flex justify-content-between">
      <p class="price mt-3">{{ product.ProductPrice | currency }}</p>
    </div>
  </mat-card-content>
</mat-card>
